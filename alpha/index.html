<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Creative Flow Studio</title>
        <style>
            body {
                overflow: hidden; /* Prevent scrolling on the body */
                margin: 0;
                padding: 0;
            }
            /* Service Worker エラーの無視 */
            iframe[src*='coi-serviceworker'] {
                display: none !important;
            }
        </style>
        <script type="importmap">
            {
                "imports": {
                    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.28.0",
                    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
                    "react/": "https://aistudiocdn.com/react@^19.2.0/",
                    "react": "https://aistudiocdn.com/react@^19.2.0"
                }
            }
        </script>
    </head>
    <body class="bg-gray-900 text-gray-100 antialiased">
        <div id="root"></div>
        <script type="module" src="/index.tsx"></script>
        <script>
            // Service Worker エラーのグローバルハンドリング
            window.addEventListener('error', function (e) {
                if (e.message && e.message.includes('coi-serviceworker')) {
                    e.preventDefault();
                    console.warn('Service Worker error ignored:', e.message);
                    return false;
                }
            });
            window.addEventListener('unhandledrejection', function (e) {
                if (e.reason && e.reason.toString().includes('coi-serviceworker')) {
                    e.preventDefault();
                    console.warn('Service Worker promise rejection ignored:', e.reason);
                    return false;
                }
            });
        </script>
    </body>
</html>
